## 护理服务应用 页面设计

版本: v1.1.0  |  日期: 2025-09-24

—— 文档维护规范 ——
- 任何页面结构或交互改动，需递增版本号并记录于"变更记录"。
- 版本号规则：v a.b.c（a=架构变更，b=功能增减，c=修复/样式）
- 保持信息架构、组件树、导航与状态描述与实际实现一致。

---

### 0. 设计基线

- 导航框架：底部 Tab（首页、我的）+ 堆栈路由（详情/打卡/服务/评价/特情/绑定）
- 主题：浅色/深色自适应（后续可接入系统主题），主色建议蓝绿系（可替换）
- 组件规范：
  - 顶部标题栏：返回/更多（按页面需要）
  - 主按钮：实心主色，次要按钮：描边/文本
  - 列表单元：卡片式（阴影或描边）、状态徽标、操作入口右置
  - 空/加载/错误态：统一占位与提示样式

---

### 1. 首页（护理员）

信息架构：
- 今日待服务计划（列表/卡片，可操作：请假/推迟/取消）
- 今日任务统计（总/已完成/未完成；点击进入对应列表）
- 最近评价（可选，显示摘要）
- 快捷功能：扫码服务、特情上报、绑定设备、查看参保人

组件树（简化）：
- Page(HomeCaregiver)
  - Section(HeaderGreeting)
  - Section(TodayPlansList)
    - PlanCard[]（标题、时间、参保人、状态、操作菜单）
  - Section(StatsCards)
    - StatCard(总任务)
    - StatCard(已完成)
    - StatCard(未完成)
  - Section(QuickActions)
    - ActionButton(扫码服务)
    - ActionButton(特情上报)
    - ActionButton(绑定设备)
    - ActionButton(查看参保人)

导航：
- 计划卡片 → 计划详情
- 扫码服务 → 打卡
- 特情上报 → 特情列表（过滤：已完成且未上报）
- 绑定设备 → 绑定流程
- 查看参保人 → 参保人列表/详情

关键状态：
- 空态（今日无计划）：展示占位与“查看本月计划”入口
- 权限失败（相机/定位）：弹出引导开权限

---

### 2. 首页（参保人）

信息架构：
- 今日服务计划（点击查看详情）
- 本月服务计划（日历或列表切换）
- 已完成未评价（入口直达评价）
- 套餐信息（剩余项目/时长）

组件树：
- Page(HomeInsured)
  - Section(TodayPlanCard)
  - Section(MonthPlansSwitch)
    - CalendarView | ListView
  - Section(PendingReviewsList)
  - Section(PackageSummary)

导航：
- 任一计划 → 计划详情
- 未评价项 → 评价

状态：
- 无计划/无未评价 → 空态提示

---

### 3. 我的（护理员/参保人）

信息架构（公共）：头像与基础信息、服务记录总数、编辑资料入口
- 护理员：精简为信息+记录数+编辑
- 参保人：信息+记录数+编辑+套餐信息+评价记录

组件树：
- Page(Profile)
  - Section(UserHeader)
  - Section(StatsRow)
  - Section(Actions)
    - ListItem(编辑个人信息)
    - ListItem(套餐信息) [参保人]
    - ListItem(评价记录) [参保人]

导航：
- 编辑个人信息 → EditProfile
- 套餐信息 → PackageDetail
- 评价记录 → ReviewList

---

### 4. 计划详情（护理员/参保人）

信息架构：
- 基础信息（参保人、时间、地点、项目清单、状态）
- 操作区（按角色与状态显示）
  - 护理员：扫码服务、请假、推迟、取消
  - 参保人：推迟、取消；已完成则“去评价”

组件树：
- Page(PlanDetail)
  - Section(PlanBasicInfo)
  - Section(ItemsList)
  - Section(ActionsByRole)

状态：
- 未开始：可操作
- 进行中：显示进行状态（主要操作在服务页）
- 已完成：只读，若参保人显示“去评价”

---

### 5. 评价（参保人）

信息架构：
- 评分：服务态度、服务质量（星级或分值）
- 可选：文字评价、录音上传
- 提交按钮

组件树：
- Page(ReviewForm)
  - RatingField(态度)
  - RatingField(质量)
  - TextArea(文字)
  - AudioRecorder(可选)
  - SubmitBar

校验：
- 至少完成两项评分；提交前校验录音权限（若使用）

---

### 6. 特情上报（护理员）

信息架构：
- 类别选择、描述、录音（可选）、关联服务记录显示
- 提交按钮

组件树：
- Page(IncidentReport)
  - SelectField(类别)
  - TextArea(描述)
  - AudioRecorder(可选)
  - LinkedRecordSummary
  - SubmitBar

---

### 7. 打卡（护理员）

信息架构：
- 定位获取与范围校验结果
- 拍照签到（相机预览/上传结果）
- 开始服务按钮

组件树：
- Page(CheckIn)
  - LocationStatus
  - CameraCapture
  - PrimaryButton(开始服务)

异常：
- 定位超范围/失败 → 明确文案与重试/联系指引

---

### 8. 服务过程（护理员）

信息架构：
- 顶部：服务计时/录音状态
- 套餐信息概要
- 护理项目清单：逐项开始/结束；完成后汇总
- 结束本次服务 → 进入签退页面

组件树：
- Page(ServiceFlow)
  - Header(ServiceTimer, RecordingIndicator)
  - Section(PackageBrief)
  - Section(ServiceItemsList)
    - ServiceItemRow[]（开始/结束按钮、状态）
  - Footer(EndServiceButton)

### 9. 签退（护理员）

信息架构：
- 拍照签退（相机预览/上传结果）
- 定位获取与范围校验结果
- 提交签退按钮
- 完成后引导特情上报（可跳过）

组件树：
- Page(CheckOut)
  - CameraCapture(签退照片)
  - LocationStatus
  - PrimaryButton(提交签退)
  - Modal(IncidentPrompt)

异常：
- 定位超范围/失败 → 明确文案与重试/联系指引

---

### 10. 绑定设备（护理员）

信息架构：
- 扫码区域 → 设备信息展示 → 获取定位 → 绑定按钮

组件树：
- Page(DeviceBind)
  - QRScanner
  - DeviceInfoCard
  - LocationStatus
  - PrimaryButton(绑定)

---

### 11. 通用状态与组件

- 空态：图标+主文案+次文案+操作（可选）
- 加载态：骨架屏（列表）、按钮 loading
- 错误态：错误插画+重试
- 确认弹窗：危险操作（取消/请假）必须二次确认+原因必填
- 列表分页：下拉刷新+上滑加载

---

### 12. 原子组件建议（便于复用）

- ActionButton（图标+文案）
- StatCard（数值+标签+点击）
- PlanCard（状态徽标+操作入口）
- RatingField（星级/分值）
- AudioRecorder（录音权限/录制/回放）
- LocationStatus（权限状态/坐标/合规提示）
- CameraCapture（拍照/结果预览）

---

### 13. 无障碍与易用性

- 触控目标≥44x44pt，文本最小14sp
- 高对比与色盲友好（状态颜色同时配文字）
- 动作有反馈：点击/提交/加载

---

### 14. 变更记录

- v1.1.0 (2025-09-24)
  - 新增签退页面设计：拍照签退、定位校验、特情上报引导
  - 更新服务流程：服务过程→签退→特情上报
  - 更新版本号规则：v a.b.c（a=架构变更，b=功能增减，c=修复/样式）

- v1.0.0 (2025-09-23) 初始化页面信息架构与组件设计


